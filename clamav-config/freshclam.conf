# =========================
# FreshClam configuration
# =========================

# Path to the database directory
DatabaseDirectory /var/lib/clamav

# Path to the log file
UpdateLogFile /var/log/clamav/freshclam.log

# Maximum size of the log file before rotating
LogFileMaxSize 2M

# Log settings
LogTime yes
LogVerbose no
LogSyslog yes
LogFacility LOG_LOCAL6
LogRotate yes

# PID file
PidFile /var/run/clamav/freshclam.pid

# Database owner
DatabaseOwner clamav

# =========================
# Mirror settings
# =========================

# Disable DNS-based database info checks (DNS is often blocked in China)
DNSDatabaseInfo no

# Use direct mirrors instead of round-robin DNS
# Try China-friendly or fallback to global
DatabaseMirror db.cn.clamav.net
DatabaseMirror database.clamav.net

# =========================
# Update settings
# =========================

# Number of database checks per day (24 = every hour)
# in production make it 2= 2 times a day
Checks 0

# Connection timeouts
ConnectTimeout 30
ReceiveTimeout 30

# Retry attempts on failure
MaxAttempts 5

# =========================
# Advanced options
# =========================

# Enable bytecode database
Bytecode yes

# Test new databases before using them
TestDatabases yes

# Optional third-party databases (commented out; require manual setup)
#ExtraDatabase securiteinfo
#ExtraDatabase sanesecurity
